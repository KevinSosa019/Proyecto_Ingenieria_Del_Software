<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Mis Órdenes - PokerTech</title>

    <!-- Tailwind -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
</head>

<body class="bg-gray-100">

<!-- HEADER -->
<div class="bg-blue-900 text-white px-10 py-5 flex justify-between items-center shadow">
    <h1 class="text-2xl font-bold">PokerTech</h1>

    <!-- Volver al panel -->
    <a href="/dashboard/client/" class="text-blue-200 hover:underline">
        ← Regresar al Panel
    </a>
</div>

<!-- CONTENIDO -->
<div class="px-10 py-8">

    <h2 class="text-3xl font-bold mb-2">Mis Órdenes</h2>
    <p class="text-gray-600 mb-6">Aquí puedes ver todas tus órdenes de trabajo.</p>

    {% if orders|length == 0 %}
    
        <!-- Sin órdenes -->
        <div class="bg-white p-6 rounded-xl shadow text-center text-gray-500">
            No tienes órdenes registradas aún.
        </div>

    {% else %}

    <!-- TABLA -->
    <div class="bg-white rounded-xl shadow p-6">
        <table class="w-full text-left">

            <thead>
            <tr class="border-b font-semibold text-gray-700">
                <th class="p-3">Código</th>
                <th class="p-3">Máquina</th>
                <th class="p-3">Tipo</th>
                <th class="p-3">Prioridad</th>
                <th class="p-3">Estado</th>
                <th class="p-3">Fecha</th>
                <th class="p-3 text-center">Acción</th>
            </tr>
            </thead>

            <tbody>
            {% for order in orders %}
            <tr class="border-b hover:bg-gray-50">

                <!-- Código -->
                <td class="p-3 font-semibold">{{ order.codigo }}</td>

                <!-- Info máquina -->
                <td class="p-3">#{{ order.serial }} - {{ order.modelo }}</td>

                <!-- Tipo -->
                <td class="p-3">{{ order.tipo }}</td>

                <!-- Prioridad -->
                <td class="p-3">
                    <span class="px-2 py-1 rounded text-sm font-semibold
                        {% if order.prioridad == 'Alta' %}
                            bg-red-100 text-red-700
                        {% elif order.prioridad == 'Media' %}
                            bg-yellow-100 text-yellow-700
                        {% else %}
                            bg-green-100 text-green-700
                        {% endif %}
                    ">
                        {{ order.prioridad }}
                    </span>
                </td>

                <!-- Estado -->
                <td class="p-3">
                    <span class="px-2 py-1 rounded text-sm font-semibold
                        {% if order.estado == 'Pendiente' %}
                            bg-gray-200 text-gray-700
                        {% elif order.estado == 'En progreso' %}
                            bg-blue-200 text-blue-700
                        {% elif order.estado == 'Completada' %}
                            bg-green-200 text-green-700
                        {% else %}
                            bg-yellow-200 text-yellow-700
                        {% endif %}
                    ">
                        {{ order.estado }}
                    </span>
                </td>

                <!-- Fecha -->
                <td class="p-3">
                    {{ order.fecha|date:"d/m/Y H:i" }}
                </td>

                <!-- Ver detalles -->
                <td class="p-3 text-center">
                    <a href="/dashboard/client/order/{{ order.id }}/"
                       class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-semibold hover:bg-blue-700">
                        Ver Detalles
                    </a>
                </td>
            </tr>
            {% endfor %}
            </tbody>

        </table>
    </div>

    {% endif %}

</div>

</body>
</html>
